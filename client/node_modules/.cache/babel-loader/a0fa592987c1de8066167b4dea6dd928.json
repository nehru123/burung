{"ast":null,"code":"var _jsxFileName = \"/Users/nehrupriyambodo/Downloads/Baru/client/src/components/pages/Koleksi.js\";\nimport React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport { Carousel } from \"react-responsive-carousel\";\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\";\nimport { withRouter, Link } from \"react-router-dom\";\nimport api from \"../utils/ServicesImage\";\nconst Container = styled.nav`\n  margin-bottom: 100px;\n  box-sizing: border-box;\n  margin: 0;\n\n  .jumbotron {\n    background-size: cover;\n  }\n  .card mb-4 shadow-sm {\n    box-shadow: 8px 15px 25px 0 rgba(0, 0, 0, 0.16);\n  }\n`;\nexport default class Koleksi extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      path: \"/img/\",\n      judul: window.location.search.substring(1),\n      data: []\n    };\n\n    this.componentDidMount = async () => {\n      this.setState({\n        isLoading: true\n      });\n      var query = window.location.search.substring(1);\n      await api.getImage(query).then(image => {\n        this.setState({\n          data: image.data.data\n        });\n      });\n    };\n\n    this.getDataFromDb = () => {\n      var query = window.location.search.substring(1);\n      api.getImage(query).then(image => {\n        this.setState({\n          data: image.data.data\n        });\n      });\n    };\n\n    this.add = async e => {\n      e.preventDefault();\n\n      if (this.state.image) {\n        const payload = {\n          judul: this.state.judul,\n          image: this.state.image\n        };\n        await api.insertImage(payload).then(res => {\n          window.alert(`Collection successfully`);\n          this.getDataFromDb();\n        });\n      } else window.alert(`Tambahkan gambar`);\n    };\n\n    this.deleteData = async () => {\n      await api.deleteGById(this.state.idUp).then(res => {\n        window.alert(`Bird deleted successfully`);\n        this.getDataFromDb();\n      }); //registerburung(burungData);\n    };\n\n    this.uploadImage = async ({\n      target\n    }) => {\n      var image = document.getElementById(target.name).files[0];\n      var formdata = new FormData();\n      formdata.append(\"files\", image, image.name);\n      await api.uploadImg(formdata).then(res => {\n        if (res.data.success) {\n          window.alert(\"Gambar \" + target.name + \" berhasil di upload\");\n          this.setState({\n            [target.name]: res.data.data\n          });\n        } else {\n          window.alert(res.data.data);\n        }\n      });\n    };\n\n    this.preview = async ({\n      target\n    }) => {\n      var output = document.getElementById(\"output\" + target.id);\n      output.src = URL.createObjectURL(target.files[0]);\n    };\n\n    this.fileSelectedHandler = e => {\n      this.setState({\n        files: [...this.state.files, ...e.target.files]\n      });\n    };\n  }\n\n  componentWillUnmount() {\n    if (this.state.intervalIsSet) {\n      clearInterval(this.state.intervalIsSet);\n      this.setState({\n        intervalIsSet: null\n      });\n    }\n  }\n\n  onChange({\n    target\n  }) {\n    this.setState({\n      [target.name]: target.value\n    });\n  }\n\n  render() {\n    const data = this.state.data;\n    return React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(\"section\", {\n      class: \"jumbotron text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \"Kenari Gunung\"), React.createElement(\"p\", {\n      class: \"lead text-muted\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, \"Something short and leading about the collection below\\u2014its contents, the creator, etc. Make it short and sweet, but not too short so folks don\\u2019t simply skip over it entirely.\"), React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-success\",\n      \"data-toggle\": \"modal\",\n      \"data-target\": \".bd-example-modal-lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \"Tambah Gallery Burung\"), React.createElement(\"div\", {\n      className: \"modal fade bd-example-modal-lg\",\n      tabindex: \"-1\",\n      role: \"dialog\",\n      \"aria-labelledby\": \"myLargeModalLabel\",\n      \"aria-hidden\": \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"modal-dialog modal-lg\",\n      role: \"document\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"modal-content\",\n      closeModal: this.closeModal,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"modal-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      className: \"modal-title\",\n      id: \"exampleModalLabel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, \"Gallery Burung\"), React.createElement(\"button\", {\n      type: \"button\",\n      className: \"close\",\n      \"data-dismiss\": \"modal\",\n      \"aria-label\": \"Close\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      \"aria-hidden\": \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, \"\\xD7\"))), React.createElement(\"div\", {\n      className: \"modal-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        justifyContent: \"center\"\n      },\n      className: \"form-row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group col-md-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      for: \"inputCity\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, \"Foto Burung\"), React.createElement(\"input\", {\n      type: \"file\",\n      id: \"image\",\n      onChange: e => this.preview(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }), React.createElement(\"img\", {\n      id: \"outputimage\",\n      width: \"100px\",\n      height: \"100px\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      class: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"button\",\n      name: \"image\",\n      class: \"btn btn-primary\",\n      onClick: e => this.uploadImage(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, \"Upload\"))), React.createElement(\"div\", {\n      className: \"modal-footer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-secondary\",\n      \"data-dismiss\": \"modal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, \"Close\"), React.createElement(\"button\", {\n      type: \"submit\",\n      \"data-dismiss\": \"modal\",\n      className: \"btn btn-success\",\n      onClick: e => this.add(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, \"Tambahkan\")))))))))), React.createElement(\"h3\", {\n      style: {\n        textAlign: \"center\",\n        margin: 30\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, \"Album \"), React.createElement(\"div\", {\n      class: \"album py-5 \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, data.length <= 0 ? \"NO DB ENTRIES YET\" : data.map(dat => React.createElement(\"div\", {\n      class: \"col-md-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        borderRadius: 30\n      },\n      class: \"card mb-4 shadow-sm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      style: {\n        borderRadius: 30\n      },\n      class: \"bd-placeholder-img card-img-top\",\n      width: \"100%\",\n      height: \"225\",\n      src: this.state.path + dat.image,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }))))))));\n  }\n\n}","map":{"version":3,"sources":["/Users/nehrupriyambodo/Downloads/Baru/client/src/components/pages/Koleksi.js"],"names":["React","Component","styled","Carousel","withRouter","Link","api","Container","nav","Koleksi","state","path","judul","window","location","search","substring","data","componentDidMount","setState","isLoading","query","getImage","then","image","getDataFromDb","add","e","preventDefault","payload","insertImage","res","alert","deleteData","deleteGById","idUp","uploadImage","target","document","getElementById","name","files","formdata","FormData","append","uploadImg","success","preview","output","id","src","URL","createObjectURL","fileSelectedHandler","componentWillUnmount","intervalIsSet","clearInterval","onChange","value","render","closeModal","justifyContent","textAlign","margin","length","map","dat","borderRadius"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\n\nimport styled from \"styled-components\";\nimport { Carousel } from \"react-responsive-carousel\";\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\";\nimport { withRouter, Link } from \"react-router-dom\";\nimport api from \"../utils/ServicesImage\";\n\nconst Container = styled.nav`\n  margin-bottom: 100px;\n  box-sizing: border-box;\n  margin: 0;\n\n  .jumbotron {\n    background-size: cover;\n  }\n  .card mb-4 shadow-sm {\n    box-shadow: 8px 15px 25px 0 rgba(0, 0, 0, 0.16);\n  }\n`;\n\nexport default class Koleksi extends Component {\n  state = {\n    path: \"/img/\",\n    judul: window.location.search.substring(1),\n    data: [],\n  };\n\n  componentDidMount = async () => {\n    this.setState({ isLoading: true });\n    var query = window.location.search.substring(1);\n    await api.getImage(query).then((image) => {\n      this.setState({\n        data: image.data.data,\n      });\n    });\n  };\n\n  componentWillUnmount() {\n    if (this.state.intervalIsSet) {\n      clearInterval(this.state.intervalIsSet);\n      this.setState({ intervalIsSet: null });\n    }\n  }\n\n  getDataFromDb = () => {\n    var query = window.location.search.substring(1);\n    api.getImage(query).then((image) => {\n      this.setState({\n        data: image.data.data,\n      });\n    });\n  };\n\n  onChange({ target }) {\n    this.setState({\n      [target.name]: target.value,\n    });\n  }\n\n  add = async (e) => {\n    e.preventDefault();\n    if (this.state.image) {\n      const payload = {\n        judul: this.state.judul,\n        image: this.state.image,\n      };\n\n      await api.insertImage(payload).then((res) => {\n        window.alert(`Collection successfully`);\n        this.getDataFromDb();\n      });\n    } else window.alert(`Tambahkan gambar`);\n  };\n\n  deleteData = async () => {\n    await api.deleteGById(this.state.idUp).then((res) => {\n      window.alert(`Bird deleted successfully`);\n      this.getDataFromDb();\n    });\n    //registerburung(burungData);\n  };\n\n  uploadImage = async ({ target }) => {\n    var image = document.getElementById(target.name).files[0];\n    var formdata = new FormData();\n    formdata.append(\"files\", image, image.name);\n    await api.uploadImg(formdata).then((res) => {\n      if (res.data.success) {\n        window.alert(\"Gambar \" + target.name + \" berhasil di upload\");\n        this.setState({\n          [target.name]: res.data.data,\n        });\n      } else {\n        window.alert(res.data.data);\n      }\n    });\n  };\n  preview = async ({ target }) => {\n    var output = document.getElementById(\"output\" + target.id);\n    output.src = URL.createObjectURL(target.files[0]);\n  };\n  fileSelectedHandler = (e) => {\n    this.setState({ files: [...this.state.files, ...e.target.files] });\n  };\n  render() {\n    const { data } = this.state;\n    return (\n      <Container>\n        <section class=\"jumbotron text-center\">\n          <div class=\"container\">\n            <h1>Kenari Gunung</h1>\n            <p class=\"lead text-muted\">\n              Something short and leading about the collection below—its\n              contents, the creator, etc. Make it short and sweet, but not too\n              short so folks don’t simply skip over it entirely.\n            </p>\n            <button\n              type=\"button\"\n              className=\"btn btn-success\"\n              data-toggle=\"modal\"\n              data-target=\".bd-example-modal-lg\"\n            >\n              Tambah Gallery Burung\n            </button>\n\n            <div\n              className=\"modal fade bd-example-modal-lg\"\n              tabindex=\"-1\"\n              role=\"dialog\"\n              aria-labelledby=\"myLargeModalLabel\"\n              aria-hidden=\"true\"\n            >\n              <div className=\"modal-dialog modal-lg\" role=\"document\">\n                <div className=\"modal-content\" closeModal={this.closeModal}>\n                  <div className=\"modal-header\">\n                    <h5 className=\"modal-title\" id=\"exampleModalLabel\">\n                      Gallery Burung\n                    </h5>\n                    <button\n                      type=\"button\"\n                      className=\"close\"\n                      data-dismiss=\"modal\"\n                      aria-label=\"Close\"\n                    >\n                      <span aria-hidden=\"true\">&times;</span>\n                    </button>\n                  </div>\n                  <div className=\"modal-body\">\n                    <form>\n                      <div\n                        style={{ justifyContent: \"center\" }}\n                        className=\"form-row\"\n                      >\n                        <div className=\"form-group col-md-3\">\n                          <label for=\"inputCity\">Foto Burung</label>\n                          <input\n                            type=\"file\"\n                            id=\"image\"\n                            onChange={(e) => this.preview(e)}\n                          />\n                          <img id=\"outputimage\" width=\"100px\" height=\"100px\" />\n                          <div class=\"form-group\">\n                            <button\n                              type=\"button\"\n                              name=\"image\"\n                              class=\"btn btn-primary\"\n                              onClick={(e) => this.uploadImage(e)}\n                            >\n                              Upload\n                            </button>\n                          </div>\n                        </div>\n\n                        <div className=\"modal-footer\">\n                          <button\n                            type=\"button\"\n                            className=\"btn btn-secondary\"\n                            data-dismiss=\"modal\"\n                          >\n                            Close\n                          </button>\n                          <button\n                            type=\"submit\"\n                            data-dismiss=\"modal\"\n                            className=\"btn btn-success\"\n                            onClick={(e) => this.add(e)}\n                          >\n                            Tambahkan\n                          </button>\n                        </div>\n                      </div>\n                    </form>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </section>\n\n        <h3 style={{ textAlign: \"center\", margin: 30 }}>Album </h3>\n\n        <div class=\"album py-5 \">\n          <div class=\"container\">\n            <div class=\"row\">\n              {data.length <= 0\n                ? \"NO DB ENTRIES YET\"\n                : data.map((dat) => (\n                    <div class=\"col-md-4\">\n                      <div\n                        style={{ borderRadius: 30 }}\n                        class=\"card mb-4 shadow-sm\"\n                      >\n                        <img\n                          style={{ borderRadius: 30 }}\n                          class=\"bd-placeholder-img card-img-top\"\n                          width=\"100%\"\n                          height=\"225\"\n                          src={this.state.path + dat.image}\n                        />\n                      </div>\n                    </div>\n                  ))}\n            </div>\n          </div>\n        </div>\n      </Container>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}