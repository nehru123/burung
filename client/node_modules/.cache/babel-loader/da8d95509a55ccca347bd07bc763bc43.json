{"ast":null,"code":"var _jsxFileName = \"/Users/nehrupriyambodo/Downloads/Baru/client/src/components/pages/DetailParent.js\";\nimport React, { Component } from \"react\";\nimport { withRouter, Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport api from \"../utils/ServicesBatch\";\nimport assets from \"../assets/d.jpg\";\nconst Container = styled.nav`\n  .jumbotron {\n    background-image: url(\"d.jpg\");\n    background-size: cover;\n  }\n  .table {\n    border-radius: 5px;\n    width: 100%;\n    margin: 0px auto;\n    float: none;\n  }\n\n  .MyButton {\n    text-align: right;\n    margin: 15px;\n  }\n  .Myrecord {\n    display: flex;\n    justify-content: flex-start;\n  }\n`;\nexport default class DetailParent extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      path: \"http://localhost:5000/img/\",\n      idbreeding: window.location.search.substring(1),\n      namaBatch: \"\",\n      data: [],\n      file: [],\n      id: 0\n    };\n\n    this.componentDidMount = async () => {\n      this.setState({\n        isLoading: true\n      });\n      var query = window.location.search.substring(1);\n      await api.getBatchById(query).then(batch => {\n        this.setState({\n          data: batch.data.data\n        });\n      });\n      await api.getName(query).then(name => {\n        this.setState({\n          file: name.data.data\n        });\n      });\n      this.state.data.forEach(dat => dat.status == 1 ? document.getElementById(\"addnew\").disabled = true : \"\");\n    };\n\n    this.getDataFromDb = () => {\n      var query = window.location.search.substring(1);\n      api.getBatchById(query).then(batch => {\n        this.setState({\n          data: batch.data.data\n        });\n      });\n      this.state.data.forEach(dat => dat.status == 1 ? document.getElementById(\"addnew\").disabled = true : \"\");\n    };\n\n    this.imageVal = (gender, filter) => {\n      for (var i = 0; i <= gender.length; i++) {\n        if (gender[0].name == filter) {\n          return gender[i];\n        }\n      }\n    };\n\n    this.addBatch = async e => {\n      e.preventDefault();\n\n      if (this.state.namaBatch) {\n        const payload = {\n          idbreeding: this.state.idbreeding,\n          nama: this.state.namaBatch\n        };\n        await api.insertBatch(payload).then(res => {\n          window.alert(`Batch inserted successfully`);\n          document.getElementById(\"addnew\").disabled = true;\n          this.setState({\n            nama: \"\"\n          });\n          this.getDataFromDb();\n        });\n      } else window.alert(`Mohon isi form dengan lengkap`); //registerburung(burungData);\n\n    };\n\n    this.deleteData = async () => {\n      await api.deleteBirdById(this.state.idUp).then(res => {\n        window.alert(`Batch deleted successfully`);\n        this.getDataFromDb();\n      }); //registerburung(burungData);\n    };\n\n    this.preview = async ({\n      target\n    }) => {\n      var output = document.getElementById(\"output\" + target.id);\n      output.src = URL.createObjectURL(target.files[0]);\n    };\n  }\n\n  componentWillUnmount() {\n    if (this.state.intervalIsSet) {\n      clearInterval(this.state.intervalIsSet);\n      this.setState({\n        intervalIsSet: null\n      });\n    }\n  }\n\n  onChange({\n    target\n  }) {\n    this.setState({\n      [target.name]: target.value\n    });\n  }\n\n  searchBird({\n    target\n  }) {\n    // Declare variables\n    var filter, table, tr, td, i, j, txtValue, temp;\n    filter = target.value.toUpperCase();\n    table = document.getElementById(\"listBirds\");\n    tr = table.getElementsByTagName(\"tr\"); // Loop through all table rows, and hide those who don't match the search query\n\n    for (i = 0; i < tr.length; i++) {\n      var c = 0;\n      td = tr[i].getElementsByTagName(\"td\");\n\n      for (j = 0; j < td.length; j++) {\n        temp = td[j];\n\n        if (temp) {\n          txtValue = temp.textContent || temp.innerText;\n\n          if (txtValue.toUpperCase().indexOf(filter) > -1) {\n            c = 1;\n          }\n        }\n      }\n\n      if (c > 0) {\n        tr[i].style.display = \"\";\n      } else {\n        tr[i].style.display = \"none\";\n      }\n    }\n  }\n\n  render() {\n    const data = this.state.data;\n    const file = this.state.file;\n    const stat = [\"Finish\", \"On Progres\"];\n    return React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"jumbotron jumbotron-fluid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      style: {\n        textAlign: \"center\"\n      },\n      className: \"display-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"MyButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      id: \"addnew\",\n      type: \"button\",\n      class: \"btn btn-success\",\n      \"data-toggle\": \"modal\",\n      \"data-target\": \"#exampleModalLong\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, \"Add New Batch\")), React.createElement(\"div\", {\n      class: \"modal fade\",\n      id: \"exampleModalLong\",\n      tabindex: \"-1\",\n      role: \"dialog\",\n      \"aria-labelledby\": \"exampleModalLongTitle\",\n      \"aria-hidden\": \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"modal-dialog\",\n      role: \"document\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"modal-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"modal-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      class: \"modal-title\",\n      id: \"exampleModalLongTitle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, \"New Batch\"), React.createElement(\"button\", {\n      type: \"button\",\n      class: \"close\",\n      \"data-dismiss\": \"modal\",\n      \"aria-label\": \"Close\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      \"aria-hidden\": \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, \"\\xD7\"))), React.createElement(\"div\", {\n      class: \"modal-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      for: \"inputCity\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, \"Nama Batch\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      id: \"namaBatch\",\n      name: \"namaBatch\",\n      onChange: e => this.onChange(e) // value=\"#\"\n      ,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"modal-footer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-secondary\",\n      \"data-dismiss\": \"modal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }, \"Close\"), React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-success\",\n      onClick: e => this.addBatch(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    }, \"Tambahkan\"))))))), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246\n      },\n      __self: this\n    }, \"Parent\"), React.createElement(\"div\", {\n      className: \"Myrecord\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247\n      },\n      __self: this\n    }, file.map(fil => \"Jantan: \" + fil.jantan + \"    \" + \"Betina: \" + fil.betina)), React.createElement(\"table\", {\n      className: \"table\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255\n      },\n      __self: this\n    }), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256\n      },\n      __self: this\n    }, \" Status\"), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257\n      },\n      __self: this\n    }), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258\n      },\n      __self: this\n    }), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259\n      },\n      __self: this\n    }), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260\n      },\n      __self: this\n    }), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261\n      },\n      __self: this\n    }, \"Action\"))), React.createElement(\"tbody\", {\n      id: \"listBirds\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264\n      },\n      __self: this\n    }, data.length <= 0 ? \"NO DB ENTRIES YET\" : data.map(dat => React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269\n      },\n      __self: this\n    }, \" \", React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271\n      },\n      __self: this\n    }, dat.nama)), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      style: {\n        fontWeight: \"bold\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    }, stat[dat.status])), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276\n      },\n      __self: this\n    }), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278\n      },\n      __self: this\n    }), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279\n      },\n      __self: this\n    }), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280\n      },\n      __self: this\n    }), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283\n      },\n      __self: this\n    }, \" \", React.createElement(Link, {\n      to: \"/DetailLog?\" + dat._id,\n      classNameName: \"card-link\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289\n      },\n      __self: this\n    }, \"Lihat Detail\")))))))))));\n  }\n\n}","map":{"version":3,"sources":["/Users/nehrupriyambodo/Downloads/Baru/client/src/components/pages/DetailParent.js"],"names":["React","Component","withRouter","Link","styled","api","assets","Container","nav","DetailParent","state","path","idbreeding","window","location","search","substring","namaBatch","data","file","id","componentDidMount","setState","isLoading","query","getBatchById","then","batch","getName","name","forEach","dat","status","document","getElementById","disabled","getDataFromDb","imageVal","gender","filter","i","length","addBatch","e","preventDefault","payload","nama","insertBatch","res","alert","deleteData","deleteBirdById","idUp","preview","target","output","src","URL","createObjectURL","files","componentWillUnmount","intervalIsSet","clearInterval","onChange","value","searchBird","table","tr","td","j","txtValue","temp","toUpperCase","getElementsByTagName","c","textContent","innerText","indexOf","style","display","render","stat","textAlign","map","fil","jantan","betina","fontWeight","_id"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { withRouter, Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport api from \"../utils/ServicesBatch\";\nimport assets from \"../assets/d.jpg\";\n\nconst Container = styled.nav`\n  .jumbotron {\n    background-image: url(\"d.jpg\");\n    background-size: cover;\n  }\n  .table {\n    border-radius: 5px;\n    width: 100%;\n    margin: 0px auto;\n    float: none;\n  }\n\n  .MyButton {\n    text-align: right;\n    margin: 15px;\n  }\n  .Myrecord {\n    display: flex;\n    justify-content: flex-start;\n  }\n`;\nexport default class DetailParent extends Component {\n  state = {\n    path: \"http://localhost:5000/img/\",\n    idbreeding: window.location.search.substring(1),\n    namaBatch: \"\",\n    data: [],\n    file: [],\n    id: 0\n  };\n  // when component mounts, first thing it does is fetch all existing data in our db\n  // then we inc orporate a polling logic so that we can easily see if our db has\n  // changed and implement those changes into our UI\n  \n  componentDidMount = async () => {\n    this.setState({ isLoading: true });\n    var query = window.location.search.substring(1);\n    await api.getBatchById(query).then(batch => {\n      this.setState({\n        data: batch.data.data\n      });\n    });\n    await api.getName(query).then(name => {\n      this.setState({\n        file: name.data.data\n      });\n    });\n    this.state.data.forEach(dat => (\n      dat.status==1\n      ?document.getElementById(\"addnew\").disabled = true\n      :\"\"\n    ));\n  };\n  \n  componentWillUnmount() {\n    if (this.state.intervalIsSet) {\n      clearInterval(this.state.intervalIsSet);\n      this.setState({ intervalIsSet: null });\n    }\n  }\n\n  getDataFromDb = () => {\n    var query = window.location.search.substring(1);\n    api.getBatchById(query).then(batch => {\n      this.setState({\n        data: batch.data.data\n      });\n    });\n    this.state.data.forEach(dat => (\n      dat.status==1\n      ?document.getElementById(\"addnew\").disabled = true\n      :\"\"\n    ));\n  };\n\n  onChange({ target }) {\n    this.setState({\n      [target.name]: target.value\n    });\n  }\n\n  searchBird({ target }) {\n    // Declare variables\n    var filter, table, tr, td, i, j, txtValue, temp;\n    filter = target.value.toUpperCase();\n    table = document.getElementById(\"listBirds\");\n    tr = table.getElementsByTagName(\"tr\");\n\n    // Loop through all table rows, and hide those who don't match the search query\n    for (i = 0; i < tr.length; i++) {\n      var c = 0;\n      td = tr[i].getElementsByTagName(\"td\");\n      for (j = 0; j < td.length; j++) {\n        temp = td[j];\n        if (temp) {\n          txtValue = temp.textContent || temp.innerText;\n          if (txtValue.toUpperCase().indexOf(filter) > -1) {\n            c = 1;\n          }\n        }\n      }\n      if (c > 0) {\n        tr[i].style.display = \"\";\n      } else {\n        tr[i].style.display = \"none\";\n      }\n    }\n  }\n\n  imageVal = (gender, filter) => {\n    for (var i = 0; i <= gender.length; i++) {\n      if (gender[0].name == filter) {\n        return gender[i];\n      }\n    }\n  };\n\n  addBatch = async e => {\n    e.preventDefault();\n    if (this.state.namaBatch) {\n      const payload = {\n        idbreeding: this.state.idbreeding,\n        nama: this.state.namaBatch\n      };\n      await api.insertBatch(payload).then(res => {\n        window.alert(`Batch inserted successfully`);\n        document.getElementById(\"addnew\").disabled = true;\n        this.setState({\n          nama: \"\"\n        });\n        this.getDataFromDb();\n      });\n    }else window.alert(`Mohon isi form dengan lengkap`);\n\n    //registerburung(burungData);\n  };\n\n  deleteData = async () => {\n    await api.deleteBirdById(this.state.idUp).then(res => {\n      window.alert(`Batch deleted successfully`);\n      this.getDataFromDb();\n    });\n    //registerburung(burungData);\n  };\n\n  preview = async ({ target }) => {\n    var output = document.getElementById(\"output\" + target.id);\n    output.src = URL.createObjectURL(target.files[0]);\n  };\n\n  render() {\n    const { data } = this.state;\n    const { file } = this.state;\n    const stat = [\"Finish\", \"On Progres\"];\n\n    return (\n      <Container>\n        <div className=\"jumbotron jumbotron-fluid\">\n          <div className=\"container\">\n            <h1 style={{ textAlign: \"center\" }} className=\"display-12\"></h1>\n\n            \n          </div>\n        </div>\n        <div>\n          <div className=\"container\">\n            <div className=\"MyButton\">\n              <button\n              id=\"addnew\"\n                type=\"button\"\n                class=\"btn btn-success\"\n                data-toggle=\"modal\"\n                data-target=\"#exampleModalLong\"\n              >\n                Add New Batch\n              </button>\n            </div>\n\n            <div\n              class=\"modal fade\"\n              id=\"exampleModalLong\"\n              tabindex=\"-1\"\n              role=\"dialog\"\n              aria-labelledby=\"exampleModalLongTitle\"\n              aria-hidden=\"true\"\n            >\n              <div class=\"modal-dialog\" role=\"document\">\n                <div class=\"modal-content\">\n                  <div class=\"modal-header\">\n                    <h5 class=\"modal-title\" id=\"exampleModalLongTitle\">\n                      New Batch\n                    </h5>\n                    <button\n                      type=\"button\"\n                      class=\"close\"\n                      data-dismiss=\"modal\"\n                      aria-label=\"Close\"\n                    >\n                      <span aria-hidden=\"true\">&times;</span>\n                    </button>\n                  </div>\n                  <div class=\"modal-body\">\n                    <form>\n                      <div className=\"form-row\">\n                        <div className=\"form-group col-md-12\">\n                          <label for=\"inputCity\">Nama Batch</label>\n                          <input\n                            type=\"text\"\n                            className=\"form-control\"\n                            id=\"namaBatch\"\n                            name=\"namaBatch\"\n                            onChange={e => this.onChange(e)}\n                            // value=\"#\"\n                          ></input>\n                        </div>\n                      </div>\n\n                      <div className=\"modal-footer\">\n                        <button\n                          type=\"button\"\n                          className=\"btn btn-secondary\"\n                          data-dismiss=\"modal\"\n                        >\n                          Close\n                        </button>\n                        <button\n                          type=\"button\"\n                          className=\"btn btn-success\"\n                          onClick={e => this.addBatch(e)}\n                        >\n                          Tambahkan\n                        </button>\n                      </div>\n                    </form>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <h3>Parent</h3>\n            <div className=\"Myrecord\">\n            {file.map(fil => (\"Jantan: \"+fil.jantan+\"    \"+\"Betina: \"+fil.betina))}\n            </div>\n\n            {/* Table Bird */}\n            <table className=\"table\">\n              <thead>\n                <tr>\n                  <th scope=\"col\"></th>\n                  <th scope=\"col\"> Status</th>\n                  <th scope=\"col\"></th>\n                  <th scope=\"col\"></th>\n                  <th scope=\"col\"></th>\n                  <th scope=\"col\"></th>\n                  <th scope=\"col\">Action</th>\n                </tr>\n              </thead>\n              <tbody id=\"listBirds\">\n                {data.length <= 0\n                  ? \"NO DB ENTRIES YET\"\n                  : data.map(dat => (\n                      <tr>\n                        <td>\n                          {\" \"}\n                          <p>{dat.nama}</p>\n                        </td>\n                        <td>\n                          <p style={{ fontWeight: \"bold\" }}>{stat[dat.status]}</p>\n                        </td>\n                        <td></td>\n\n                        <td></td>\n                        <td></td>\n                        <td></td>\n\n                        <td>\n                          <span>\n                            {\" \"}\n                            <Link\n                              to={\"/DetailLog?\" + dat._id}\n                              classNameName=\"card-link\"\n                            >\n                              <button type=\"button\" className=\"btn btn-primary\">\n                                Lihat Detail\n                              </button>\n                            </Link>\n                          </span>\n                        </td>\n                      </tr>\n                    ))}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </Container>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}